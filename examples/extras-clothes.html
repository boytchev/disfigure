<!DOCTYPE html>

<html>

<body>
	<header>
		<h1><b>Disfigure</b></h1>
		<h3>Extracting coordinates relative to body part</h3></br>
	</header>

	<div id="spinner"></div>

	<script src="importmap.js"></script>
	<script type="module">

		import * as Three from 'three';
		import * as Happy from 'disfigure';


		// create a default world

		new Happy.World( { stats: true } );


		// create a man

		var man = new Happy.Man( );
		
		Happy.dress( man, [
			Happy.velour( 'black' ),
			Happy.verticalBetween( 1.55, 2 ),
			Happy.velour( 'moccasin' ),
			Happy.horizontalBetween( 0.67, 1 ),
			Happy.velour( 'white' ),
			Happy.verticalBetween( -0.02, 0.10 ),
			Happy.velour( 'white' ),
			Happy.verticalBetween( 1.10, 1.15 ),
			Happy.latex( 'crimson' ),
			Happy.verticalBetween( 1.16, 1.17 ),
			Happy.latex( 'crimson' ),


	/*
				Happy.latex( 'silver' ),
		
				Happy.verticalBetween(-0.05, 0.02),
				Happy.velour( 'black' ),
		
				Happy.verticalBetween(0.02, 0.10),
				Happy.velour( 'firebrick' ),
		
				Happy.verticalBetween(0.10, 0.15),
				Happy.velour( 'white' ),
		
				Happy.verticalBetween(0.15, 0.5),
				Happy.velour( 'pink' ),
		
				Happy.verticalBetween(0.5, 0.7),
				Happy.horizontalStripes(
					Happy.velour( 'red' ),
					Happy.velour( 'yellow' ),
					0.05
				),
		
				Happy.verticalBetween(0.7, 1.15),
				Happy.latex( new Three.Color('navy') ),
		
				Happy.verticalBetween(1.15, 1.53),
				Happy.velour( 'cyan' ),
		
				Happy.verticalBetween(1.53, 1.70),
				Happy.velour( 'tan' ),
		
				Happy.horizontalBetween(0.22, 0.67),
				Happy.velour( 'tan' ),
		
				Happy.horizontalBetween(0.67, 1).or(Happy.horizontalBetween(0.27, 0.37)),
				Happy.latex( 'black' ),
		
				Happy.verticalBetween(1.70, 1.75),
				Happy.latex( 'black' ),
				*/
		]);


		// animate the scene
		
		Happy.setAnimationLoop( ( t )=>{

			t=t/4000;
		
			// animating the man

			man.torso.bend = Happy.chaotic( t, 0, -20, 20 );
			man.torso.turn = Happy.chaotic( t, 4, -50, 50 );
			man.torso.tilt = Happy.chaotic( t, 2, -20, 20 );

			man.head.bend = Happy.chaotic( t, 0, -30, 50 );
			man.head.turn = Happy.chaotic( t, 4, -60, 60 );
			man.head.tilt = Happy.chaotic( t, 2, -50, 50 );

			man.chest.bend = Happy.chaotic( t, 1, -20, 40 );
			man.chest.turn = Happy.chaotic( t, 6, -60, 60 );
			man.chest.tilt = Happy.chaotic( t, 6, -30, 30 );

			man.waist.bend = Happy.chaotic( t, 3, -20, 40 );
			man.waist.turn = Happy.chaotic( t, 5, -60, 60 );
			man.waist.tilt = Happy.chaotic( t, 6, -30, 30 );

			man.l_elbow.bend = Happy.chaotic( t, 9, 0, 140 );
			man.r_elbow.bend = Happy.chaotic( t, 7, 0, 140 );

			man.l_wrist.bend = Happy.chaotic( t, -2, -60, 60 );
			man.l_wrist.turn = Happy.chaotic( t, -3, -45, 45 );
			man.l_wrist.tilt = Happy.chaotic( t, -2, -40, 40 );

			man.r_wrist.bend = Happy.chaotic( t, -1, -60, 60 );
			man.r_wrist.turn = Happy.chaotic( t, -4, -45, 45 );
			man.r_wrist.tilt = Happy.chaotic( t, -1, -40, 40 );

			man.l_arm.straddle = Happy.chaotic( t, 5, -50, 40 );
			man.l_arm.turn = Happy.chaotic( t, 6, -20, 20 );
			man.l_arm.foreward = Happy.chaotic( t, 7, -20, 80 );

			man.r_arm.straddle = Happy.chaotic( t, -5, -50, 40 );
			man.r_arm.turn = Happy.chaotic( t, -6, -20, 20 );
			man.r_arm.foreward = Happy.chaotic( t, -7, -20, 80 );

			man.l_knee.bend = Happy.chaotic( t, 6, 0, 140 );
			man.r_knee.bend = Happy.chaotic( t, 0, 0, 140 );

			man.l_foot.bend = Happy.chaotic( t, 7, -40, 40 );
			man.r_foot.bend = Happy.chaotic( t, 5, -40, 40 );

			man.l_ankle.bend = Happy.chaotic( t, -31, -40, 70 );
			man.l_ankle.turn = Happy.chaotic( t, 22, 0, 70 );
			man.l_ankle.tilt = Happy.chaotic( t, -2, -40, 40 );

			man.r_ankle.bend = Happy.chaotic( t, 1, -40, 70 );
			man.r_ankle.turn = Happy.chaotic( t, -11, 0, 70 );
			man.r_ankle.tilt = Happy.chaotic( t, -13, -40, 40 );

			man.l_leg.straddle = Happy.chaotic( t, -8, 20, 40 );
			man.l_leg.foreward = Happy.chaotic( t, -2, -40, 80 );
			man.l_thigh.turn = Happy.chaotic( t, 8, -40, 80 );

			man.r_leg.straddle = Happy.chaotic( t, -3, 20, 40 );
			man.r_leg.foreward = Happy.chaotic( t, 4, -40, 80 );
			man.r_thigh.turn = Happy.chaotic( t, -1, -40, 80 );

		} );
		
	</script>
</body>
</html>