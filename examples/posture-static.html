<!DOCTYPE html>

<html>

<body>
	<header>
		<h1><b>Disfigure</b></h1>
		<h3>Defining a static Tai Chi Chuan posture</h3></br>
	</header>

	<div id="spinner"></div>

	<script src="importmap.js"></script>
	<script type="module">

		import * as Three from 'three';
		import * as Happy from 'disfigure';


		// create a default world

		new Happy.World( );
		Happy.controls.autoRotate = true;
		Happy.controls.target.y = 0.7;


		// create a man
		
		var man = new Happy.Man( );


		// overall body position

		man.position.y = -0.29;

		// torso and head
		man.torso.bend = 8;
		
		man.head.bend = -5;
		man.head.turn = -60;
		man.head.tilt = -8;
		
		man.chest.bend = 3;
		man.chest.turn = -34;
		man.chest.tilt = 0;
		
		man.waist.bend = -4;
		man.waist.turn = 4;
		man.waist.tilt = -6;

		// left leg

		man.l_leg.foreward = -7;
		man.l_leg.turn = -1;
		man.l_leg.straddle = 25;
		
		man.l_knee.bend = 52;
		
		man.l_shin.turn = -4;
		
		man.l_ankle.bend = -32;
		man.l_ankle.tilt = -23;
		
		man.l_foot.bend = -23;

		// right leg

		man.r_leg.foreward = 49;
		man.r_leg.turn = 26;
		man.r_leg.straddle = 40;
		
		man.r_thigh.turn = 45;
		
		man.r_knee.bend = 88;
		
		man.r_shin.turn = 6;
		
		man.r_ankle.bend = -16;
		man.r_ankle.tilt = 5;

		// left arm

		man.l_arm.straddle = 7;
		man.l_arm.foreward = 7;
		
		man.l_elbow.bend = 140;
		
		man.l_wrist.bend = -25;

		// right arm

		man.r_arm.straddle = 12;
		man.r_arm.turn = 5;
		man.r_arm.foreward = -20;
		
		man.r_elbow.bend = 50;
		
		man.r_forearm.turn = 50;
		
		man.r_wrist.bend = -17;
		man.r_wrist.tilt = -5;
		// stick

		var geometry = new Three.CylinderGeometry( 0.01, 0.01, 2 ),
			material = new Three.MeshStandardMaterial( { color: 'crimson' } ),
			stick = new Three.Mesh( geometry, material );

		stick.rotation.set( 1.5, 0, 0 );
		stick.position.set( -0.1, -0.03, 0 );
		stick.castShadow = true;

		man.r_wrist.attach( stick );
		
	</script>
</body>
</html>