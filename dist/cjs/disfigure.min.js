/*! disfigure v0.0.2 */
"use strict";var t=require("three/tsl");require("three");const e=t.Fn((([e])=>{var o=e.cos().toVar(),n=e.sin().toVar();return t.mat3(1,0,0,0,o,n,0,n.negate(),o)})).setLayout({name:"matRotX",type:"mat3",inputs:[{name:"angle",type:"float"}]}),o=t.Fn((([e])=>{var o=e.cos().toVar(),n=e.sin().toVar();return t.mat3(o,0,n.negate(),0,1,0,n,0,o)})).setLayout({name:"matRotY",type:"mat3",inputs:[{name:"angle",type:"float"}]}),n=t.Fn((([e])=>{var o=e.cos().toVar(),n=e.sin().toVar();return t.mat3(o,n,0,n.negate(),o,0,0,0,1)})).setLayout({name:"matRotZ",type:"mat3",inputs:[{name:"angle",type:"float"}]}),s=t.Fn((([t])=>{var s=e(t.x),a=o(t.y),r=n(t.z);return a.mul(s).mul(r)})).setLayout({name:"matRotYXZ",type:"mat3",inputs:[{name:"angles",type:"vec3"}]}),a=t.Fn((([t])=>{var s=e(t.x),a=o(t.y),r=n(t.z);return a.mul(r).mul(s)})).setLayout({name:"matRotYZX",type:"mat3",inputs:[{name:"angles",type:"vec3"}]});t.Fn((([t])=>{var s=e(t.x),a=o(t.y),r=n(t.z);return s.mul(a).mul(r)})).setLayout({name:"matRotXYZ",type:"mat3",inputs:[{name:"angles",type:"vec3"}]});const r=t.Fn((([t])=>{var s=e(t.x),a=o(t.y),r=n(t.z);return s.mul(r).mul(a)})).setLayout({name:"matRotXZY",type:"mat3",inputs:[{name:"angles",type:"vec3"}]});function i({waistSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function m({headSpan:e}){return t.positionGeometry.y.add(t.positionGeometry.z.div(3)).smoothstep(e.x,e.y)}function u({chestSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function p({kneeLeftSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function l({ankleLeftSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function y({legLeftSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y).pow(1)}function h({hipLeftSpan:e}){var o=t.positionGeometry.x,n=t.positionGeometry.y;return n.sub(o.mul(2)).smoothstep(e.z,e.w.sub(o.mul(1.6))).mul(n.smoothstep(e.x,e.y)).mul(o.smoothstep(-.01,.01))}function g({elbowLeftSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}function c({forearmLeftSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}function f({wristLeftSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}function d({armLeftSpan:e}){var o=t.positionGeometry.x,n=t.positionGeometry.y;return o.smoothstep(e.x,e.y).mul(n.smoothstep(e.z,e.w))}t.Fn((([t])=>{var s=e(t.x),a=o(t.y);return n(t.z).mul(s).mul(a)})).setLayout({name:"matRotZXY",type:"mat3",inputs:[{name:"angles",type:"vec3"}]}),t.Fn((([t])=>{var s=e(t.x),a=o(t.y);return n(t.z).mul(a).mul(s)})).setLayout({name:"matRotZYX",type:"mat3",inputs:[{name:"angles",type:"vec3"}]});var v=t.Fn((([t,e,o,n])=>t.sub(e).mul(s(o.mul(n))).add(e))).setLayout({name:"jointRotate",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"center",type:"vec3"},{name:"angle",type:"vec3"},{name:"amount",type:"float"}]}),x=t.Fn((([t,e,o,n])=>t.sub(e).mul(a(o.mul(n))).add(e))).setLayout({name:"jointRotateLeg",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"center",type:"vec3"},{name:"angle",type:"vec3"},{name:"amount",type:"float"}]}),L=t.Fn((([e,o,n,s])=>t.mix(e,e.sub(o).mul(r(n.mul(s))).mul(t.float(1).sub(s.mul(2*Math.PI).sub(Math.PI).cos().add(1).div(2).div(4).mul(n.z.cos().oneMinus()))).add(o),s.pow(.25)))).setLayout({name:"jointRotate2",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"center",type:"vec3"},{name:"angle",type:"vec3"},{name:"amount",type:"float"}]}),R=t.Fn((e=>{var o=t.positionGeometry.toVar(),n=d(e).toVar();t.If(n.greaterThan(0),(()=>{o.assign(v(o,e.wristLeftPos,e.wristLeftTurn,f(e))),o.assign(v(o,e.forearmLeftPos,e.forearmLeftTurn,c(e))),o.assign(v(o,e.elbowLeftPos,e.elbowLeftTurn,g(e))),o.assign(L(o,e.armLeftPos,e.armLeftTurn,n))}));var s=function({armRightSpan:e}){var o=t.positionGeometry.x,n=t.positionGeometry.y;return o.smoothstep(e.x,e.y).mul(n.smoothstep(e.z,e.w))}(e).toVar();t.If(s.greaterThan(0),(()=>{o.assign(v(o,e.wristRightPos,e.wristRightTurn,function({wristRightSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}(e))),o.assign(v(o,e.forearmRightPos,e.forearmRightTurn,function({forearmRightSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}(e))),o.assign(v(o,e.elbowRightPos,e.elbowRightTurn,function({elbowRightSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}(e))),o.assign(L(o,e.armRightPos,e.armRightTurn,s))})),o.assign(v(o,e.headPos,e.headTurn,m(e))),o.assign(v(o,e.chestPos,e.chestTurn,u(e))),o.assign(v(o,e.waistPos,e.waistTurn,i(e)));var a=h(e).toVar();t.If(a.greaterThan(0),(()=>{o.assign(v(o,e.ankleLeftPos,e.ankleLeftTurn,l(e))),o.assign(v(o,e.legLeftPos,e.legLeftTurn,y(e))),o.assign(v(o,e.kneeLeftPos,e.kneeLeftTurn,p(e))),o.assign(x(o,e.hip2LeftPos,e.hip2LeftTurn,function({hip2LeftSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}(e))),o.assign(x(o,e.hipLeftPos,e.hipLeftTurn,a))}));var r=function({hipRightSpan:e}){var o=t.positionGeometry.x,n=t.positionGeometry.y;return n.add(o.mul(2)).smoothstep(e.z,e.w.add(o.mul(1.6))).mul(n.smoothstep(e.x,e.y)).mul(o.smoothstep(.01,-.01))}(e).toVar();return t.If(r.greaterThan(0),(()=>{o.assign(v(o,e.ankleRightPos,e.ankleRightTurn,function({ankleRightSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}(e))),o.assign(v(o,e.legRightPos,e.legRightTurn,function({legRightSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}(e))),o.assign(v(o,e.kneeRightPos,e.kneeRightTurn,function({kneeRightSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}(e))),o.assign(x(o,e.hip2RightPos,e.hip2RightTurn,function({hip2RightSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}(e))),o.assign(x(o,e.hipRightPos,e.hipRightTurn,r))})),o})),G=t.Fn((e=>{var o=e.select,n=t.float(0).add(m(e).mul(t.select(o.equal(1),1,0))).add(u(e).mul(t.select(o.equal(2),1,0))).add(i(e).mul(t.select(o.equal(3),1,0))).add(h(e).mul(t.select(o.equal(11),1,0))).add(y(e).mul(t.select(o.equal(12),1,0))).add(p(e).mul(t.select(o.equal(13),1,0))).add(l(e).mul(t.select(o.equal(14),1,0))).add(d(e).mul(t.select(o.equal(21),1,0))).add(g(e).mul(t.select(o.equal(22),1,0))).add(c(e).mul(t.select(o.equal(23),1,0))).add(f(e).mul(t.select(o.equal(24),1,0))).toVar();return n.assign(t.select(e.isolated.equal(0),n.smoothstep(0,1).mul(2*Math.PI).sub(Math.PI).cos().add(1).div(2).pow(1/4).mul(1.1).negate(),n.clamp(0,1).pow(.75).negate())),t.vec3(0,n.div(2),n.div(1))})),P=t.Fn((()=>{var e=t.positionGeometry,o=t.float(0).add(e.x.mul(72).cos().smoothstep(.9,1)).add(e.y.mul(74).cos().smoothstep(.9,1)).add(e.z.mul(74).add(e.y.mul(4.5).add(.5).cos().mul(1).add(2.5)).abs().smoothstep(.6,0)).smoothstep(.6,1).oneMinus().pow(.1);return t.vec3(o)}));exports.tslColorNode=P,exports.tslEmissiveNode=G,exports.tslPositionNode=R;
