/*! disfigure v0.0.1 */
"use strict";var t=require("three/tsl");require("three");const e=t.Fn((([e])=>{var o=e.cos().toVar(),s=e.sin().toVar();return t.mat3(1,0,0,0,o,s,0,s.negate(),o)})).setLayout({name:"matRotX",type:"mat3",inputs:[{name:"angle",type:"float"}]}),o=t.Fn((([e])=>{var o=e.cos().toVar(),s=e.sin().toVar();return t.mat3(o,0,s.negate(),0,1,0,s,0,o)})).setLayout({name:"matRotY",type:"mat3",inputs:[{name:"angle",type:"float"}]}),s=t.Fn((([e])=>{var o=e.cos().toVar(),s=e.sin().toVar();return t.mat3(o,s,0,s.negate(),o,0,0,0,1)})).setLayout({name:"matRotZ",type:"mat3",inputs:[{name:"angle",type:"float"}]}),n=t.Fn((([t])=>{var n=e(t.x),a=o(t.y),r=s(t.z);return a.mul(n).mul(r)})).setLayout({name:"matRotYXZ",type:"mat3",inputs:[{name:"angles",type:"vec3"}]}),a=t.Fn((([t])=>{var n=e(t.x),a=o(t.y),r=s(t.z);return n.mul(r).mul(a)})).setLayout({name:"matRotXZY",type:"mat3",inputs:[{name:"angles",type:"vec3"}]});function r({waistSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function i({headSpan:e}){return t.positionGeometry.y.add(t.positionGeometry.z.div(3)).smoothstep(e.x,e.y)}function u({chestSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function m({kneeLeftSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function l({kneeRightSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function p({ankleLeftSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function y({ankleRightSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function h({legLeftSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function d({legRightSpan:e}){return t.positionGeometry.y.smoothstep(e.x,e.y)}function c({hipLeftSpan:e}){var o=t.positionGeometry.x,s=t.positionGeometry.y;return s.smoothstep(e.x,e.y).mul(o.sub(s.sub(2)).smoothstep(-.1,.1).mul(o.smoothstep(-.01,.01)))}function g({hipRightSpan:e}){var o=t.positionGeometry.x,s=t.positionGeometry.y;return s.smoothstep(e.x,e.y).mul(o.add(s.sub(2)).smoothstep(.1,-.1).mul(o.smoothstep(.01,-.01)))}function f({elbowLeftSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}function v({elbowRightSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}function x({forearmLeftSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}function L({forearmRightSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}function R({wristLeftSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}function G({wristRightSpan:e}){return t.positionGeometry.x.smoothstep(e.x,e.y)}function P({armLeftSpan:e}){var o=t.positionGeometry.x,s=t.positionGeometry.y;return o.smoothstep(e.x,e.y).mul(s.smoothstep(e.z,e.w))}function T({armRightSpan:e}){var o=t.positionGeometry.x,s=t.positionGeometry.y;return o.smoothstep(e.x,e.y).mul(s.smoothstep(e.z,e.w))}var q=t.Fn((([t,e,o,s])=>t.sub(e).mul(n(o.mul(s))).add(e))).setLayout({name:"jointRotate",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"center",type:"vec3"},{name:"angle",type:"vec3"},{name:"amount",type:"float"}]}),w=t.Fn((([e,o,s,n])=>t.mix(e,e.sub(o).mul(a(s.mul(n))).mul(t.float(1).sub(n.mul(2*Math.PI).sub(Math.PI).cos().add(1).div(2).div(4).mul(s.z.cos().oneMinus()))).add(o),n.pow(.25)))).setLayout({name:"jointRotate2",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"center",type:"vec3"},{name:"angle",type:"vec3"},{name:"amount",type:"float"}]}),S=t.Fn((e=>{var o=t.positionGeometry.toVar(),s=P(e).toVar();t.If(s.greaterThan(0),(()=>{o.assign(q(o,e.wristLeftPos,e.wristLeftTurn,R(e))),o.assign(q(o,e.forearmLeftPos,e.forearmLeftTurn,x(e))),o.assign(q(o,e.elbowLeftPos,e.elbowLeftTurn,f(e))),o.assign(w(o,e.armLeftPos,e.armLeftTurn,s))}));var n=T(e).toVar();t.If(n.greaterThan(0),(()=>{o.assign(q(o,e.wristRightPos,e.wristRightTurn,G(e))),o.assign(q(o,e.forearmRightPos,e.forearmRightTurn,L(e))),o.assign(q(o,e.elbowRightPos,e.elbowRightTurn,v(e))),o.assign(w(o,e.armRightPos,e.armRightTurn,n))})),o.assign(q(o,e.headPos,e.headTurn,i(e))),o.assign(q(o,e.chestPos,e.chestTurn,u(e))),o.assign(q(o,e.waistPos,e.waistTurn,r(e)));var a=c(e).toVar();t.If(a.greaterThan(0),(()=>{o.assign(q(o,e.ankleLeftPos,e.ankleLeftTurn,p(e))),o.assign(q(o,e.legLeftPos,e.legLeftTurn,h(e))),o.assign(q(o,e.kneeLeftPos,e.kneeLeftTurn,m(e))),o.assign(q(o,e.hipLeftPos,e.hipLeftTurn,a))}));var S=g(e).toVar();return t.If(S.greaterThan(0),(()=>{o.assign(q(o,e.ankleRightPos,e.ankleRightTurn,y(e))),o.assign(q(o,e.legRightPos,e.legRightTurn,d(e))),o.assign(q(o,e.kneeRightPos,e.kneeRightTurn,l(e))),o.assign(q(o,e.hipRightPos,e.hipRightTurn,S))})),o})),b=t.Fn((e=>{var o=e.select,s=t.float(0).add(i(e).mul(t.select(o.equal(1),1,0))).add(u(e).mul(t.select(o.equal(2),1,0))).add(r(e).mul(t.select(o.equal(3),1,0))).add(c(e).mul(t.select(o.equal(11),1,0))).add(h(e).mul(t.select(o.equal(12),1,0))).add(m(e).mul(t.select(o.equal(13),1,0))).add(p(e).mul(t.select(o.equal(14),1,0))).add(g(e).mul(t.select(o.equal(11),1,0))).add(d(e).mul(t.select(o.equal(12),1,0))).add(l(e).mul(t.select(o.equal(13),1,0))).add(y(e).mul(t.select(o.equal(14),1,0))).add(P(e).mul(t.select(o.equal(21),1,0))).add(f(e).mul(t.select(o.equal(22),1,0))).add(x(e).mul(t.select(o.equal(23),1,0))).add(R(e).mul(t.select(o.equal(24),1,0))).add(T(e).mul(t.select(o.equal(21),1,0))).add(v(e).mul(t.select(o.equal(22),1,0))).add(L(e).mul(t.select(o.equal(23),1,0))).add(G(e).mul(t.select(o.equal(24),1,0))).toVar();return s.assign(t.select(e.isolated.equal(0),s.smoothstep(0,1).mul(2*Math.PI).sub(Math.PI).cos().add(1).div(2).pow(1/4).mul(1.1).negate(),s.clamp(0,1).pow(.75).negate())),t.vec3(0,s.div(2),s.div(1))})),k=t.Fn((()=>{var e=t.positionGeometry,o=t.float(0).add(e.x.mul(72).cos().smoothstep(.9,1)).add(e.y.mul(74).cos().smoothstep(.9,1)).add(e.z.mul(74).add(e.y.mul(4.5).add(.5).cos().mul(1).add(2.5)).abs().smoothstep(.6,0)).smoothstep(.6,1).oneMinus().pow(.1);return t.vec3(o)}));exports.tslColorNode=k,exports.tslEmissiveNode=b,exports.tslPositionNode=S;
