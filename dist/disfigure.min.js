/*! disfigure v0.0.2 */
import{Fn as t,mat3 as e,mix as a,float as n,positionGeometry as s,If as o,select as u,vec3 as r}from"three/tsl";import"three";const m=t((([t])=>{var a=t.cos().toVar(),n=t.sin().toVar();return e(1,0,0,0,a,n,0,n.negate(),a)})).setLayout({name:"matRotX",type:"mat3",inputs:[{name:"angle",type:"float"}]}),p=t((([t])=>{var a=t.cos().toVar(),n=t.sin().toVar();return e(a,0,n.negate(),0,1,0,n,0,a)})).setLayout({name:"matRotY",type:"mat3",inputs:[{name:"angle",type:"float"}]}),i=t((([t])=>{var a=t.cos().toVar(),n=t.sin().toVar();return e(a,n,0,n.negate(),a,0,0,0,1)})).setLayout({name:"matRotZ",type:"mat3",inputs:[{name:"angle",type:"float"}]}),l=t((([t])=>{var e=m(t.x),a=p(t.y),n=i(t.z);return a.mul(e).mul(n)})).setLayout({name:"matRotYXZ",type:"mat3",inputs:[{name:"angles",type:"vec3"}]}),y=t((([t])=>{var e=m(t.x),a=p(t.y),n=i(t.z);return a.mul(n).mul(e)})).setLayout({name:"matRotYZX",type:"mat3",inputs:[{name:"angles",type:"vec3"}]});t((([t])=>{var e=m(t.x),a=p(t.y),n=i(t.z);return e.mul(a).mul(n)})).setLayout({name:"matRotXYZ",type:"mat3",inputs:[{name:"angles",type:"vec3"}]});const h=t((([t])=>{var e=m(t.x),a=p(t.y),n=i(t.z);return e.mul(n).mul(a)})).setLayout({name:"matRotXZY",type:"mat3",inputs:[{name:"angles",type:"vec3"}]});function g({waistSpan:t}){return s.y.smoothstep(t.x,t.y)}function f({headSpan:t}){return s.y.add(s.z.div(3)).smoothstep(t.x,t.y)}function d({chestSpan:t}){return s.y.smoothstep(t.x,t.y)}function c({kneeLeftSpan:t}){return s.y.smoothstep(t.x,t.y)}function v({ankleLeftSpan:t}){return s.y.smoothstep(t.x,t.y)}function L({legLeftSpan:t}){return s.y.smoothstep(t.x,t.y).pow(1)}function x({hipLeftSpan:t}){var e=s.x,a=s.y;return a.sub(e.mul(2)).smoothstep(t.z,t.w.sub(e.mul(1.6))).mul(a.smoothstep(t.x,t.y)).mul(e.smoothstep(-.01,.01))}function R({elbowLeftSpan:t}){return s.x.smoothstep(t.x,t.y)}function P({forearmLeftSpan:t}){return s.x.smoothstep(t.x,t.y)}function T({wristLeftSpan:t}){return s.x.smoothstep(t.x,t.y)}function w({armLeftSpan:t}){var e=s.x,a=s.y;return e.smoothstep(t.x,t.y).mul(a.smoothstep(t.z,t.w))}t((([t])=>{var e=m(t.x),a=p(t.y);return i(t.z).mul(e).mul(a)})).setLayout({name:"matRotZXY",type:"mat3",inputs:[{name:"angles",type:"vec3"}]}),t((([t])=>{var e=m(t.x),a=p(t.y);return i(t.z).mul(a).mul(e)})).setLayout({name:"matRotZYX",type:"mat3",inputs:[{name:"angles",type:"vec3"}]});var S=t((([t,e,a,n])=>t.sub(e).mul(l(a.mul(n))).add(e))).setLayout({name:"jointRotate",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"center",type:"vec3"},{name:"angle",type:"vec3"},{name:"amount",type:"float"}]}),b=t((([t,e,a,n])=>t.sub(e).mul(y(a.mul(n))).add(e))).setLayout({name:"jointRotateLeg",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"center",type:"vec3"},{name:"angle",type:"vec3"},{name:"amount",type:"float"}]}),z=t((([t,e,s,o])=>a(t,t.sub(e).mul(h(s.mul(o))).mul(n(1).sub(o.mul(2*Math.PI).sub(Math.PI).cos().add(1).div(2).div(4).mul(s.z.cos().oneMinus()))).add(e),o.pow(.25)))).setLayout({name:"jointRotate2",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"center",type:"vec3"},{name:"angle",type:"vec3"},{name:"amount",type:"float"}]}),k=t((t=>{var e=s.toVar(),a=w(t).toVar();o(a.greaterThan(0),(()=>{e.assign(S(e,t.wristLeftPos,t.wristLeftTurn,T(t))),e.assign(S(e,t.forearmLeftPos,t.forearmLeftTurn,P(t))),e.assign(S(e,t.elbowLeftPos,t.elbowLeftTurn,R(t))),e.assign(z(e,t.armLeftPos,t.armLeftTurn,a))}));var n=function({armRightSpan:t}){var e=s.x,a=s.y;return e.smoothstep(t.x,t.y).mul(a.smoothstep(t.z,t.w))}(t).toVar();o(n.greaterThan(0),(()=>{e.assign(S(e,t.wristRightPos,t.wristRightTurn,function({wristRightSpan:t}){return s.x.smoothstep(t.x,t.y)}(t))),e.assign(S(e,t.forearmRightPos,t.forearmRightTurn,function({forearmRightSpan:t}){return s.x.smoothstep(t.x,t.y)}(t))),e.assign(S(e,t.elbowRightPos,t.elbowRightTurn,function({elbowRightSpan:t}){return s.x.smoothstep(t.x,t.y)}(t))),e.assign(z(e,t.armRightPos,t.armRightTurn,n))})),e.assign(S(e,t.headPos,t.headTurn,f(t))),e.assign(S(e,t.chestPos,t.chestTurn,d(t))),e.assign(S(e,t.waistPos,t.waistTurn,g(t)));var u=x(t).toVar();o(u.greaterThan(0),(()=>{e.assign(S(e,t.ankleLeftPos,t.ankleLeftTurn,v(t))),e.assign(S(e,t.legLeftPos,t.legLeftTurn,L(t))),e.assign(S(e,t.kneeLeftPos,t.kneeLeftTurn,c(t))),e.assign(b(e,t.hip2LeftPos,t.hip2LeftTurn,function({hip2LeftSpan:t}){return s.y.smoothstep(t.x,t.y)}(t))),e.assign(b(e,t.hipLeftPos,t.hipLeftTurn,u))}));var r=function({hipRightSpan:t}){var e=s.x,a=s.y;return a.add(e.mul(2)).smoothstep(t.z,t.w.add(e.mul(1.6))).mul(a.smoothstep(t.x,t.y)).mul(e.smoothstep(.01,-.01))}(t).toVar();return o(r.greaterThan(0),(()=>{e.assign(S(e,t.ankleRightPos,t.ankleRightTurn,function({ankleRightSpan:t}){return s.y.smoothstep(t.x,t.y)}(t))),e.assign(S(e,t.legRightPos,t.legRightTurn,function({legRightSpan:t}){return s.y.smoothstep(t.x,t.y)}(t))),e.assign(S(e,t.kneeRightPos,t.kneeRightTurn,function({kneeRightSpan:t}){return s.y.smoothstep(t.x,t.y)}(t))),e.assign(b(e,t.hip2RightPos,t.hip2RightTurn,function({hip2RightSpan:t}){return s.y.smoothstep(t.x,t.y)}(t))),e.assign(b(e,t.hipRightPos,t.hipRightTurn,r))})),e})),q=t((t=>{var e=t.select,a=n(0).add(f(t).mul(u(e.equal(1),1,0))).add(d(t).mul(u(e.equal(2),1,0))).add(g(t).mul(u(e.equal(3),1,0))).add(x(t).mul(u(e.equal(11),1,0))).add(L(t).mul(u(e.equal(12),1,0))).add(c(t).mul(u(e.equal(13),1,0))).add(v(t).mul(u(e.equal(14),1,0))).add(w(t).mul(u(e.equal(21),1,0))).add(R(t).mul(u(e.equal(22),1,0))).add(P(t).mul(u(e.equal(23),1,0))).add(T(t).mul(u(e.equal(24),1,0))).toVar();return a.assign(u(t.isolated.equal(0),a.smoothstep(0,1).mul(2*Math.PI).sub(Math.PI).cos().add(1).div(2).pow(1/4).mul(1.1).negate(),a.clamp(0,1).pow(.75).negate())),r(0,a.div(2),a.div(1))})),V=t((()=>{var t=s,e=n(0).add(t.x.mul(72).cos().smoothstep(.9,1)).add(t.y.mul(74).cos().smoothstep(.9,1)).add(t.z.mul(74).add(t.y.mul(4.5).add(.5).cos().mul(1).add(2.5)).abs().smoothstep(.6,0)).smoothstep(.6,1).oneMinus().pow(.1);return r(e)}));export{V as tslColorNode,q as tslEmissiveNode,k as tslPositionNode};
