/*! disfigure v0.0.1 */
import{Fn as t,mat3 as e,mix as a,float as n,positionGeometry as s,If as o,select as u,vec3 as r}from"three/tsl";import"three";const m=t((([t])=>{var a=t.cos().toVar(),n=t.sin().toVar();return e(1,0,0,0,a,n,0,n.negate(),a)})).setLayout({name:"matRotX",type:"mat3",inputs:[{name:"angle",type:"float"}]}),i=t((([t])=>{var a=t.cos().toVar(),n=t.sin().toVar();return e(a,0,n.negate(),0,1,0,n,0,a)})).setLayout({name:"matRotY",type:"mat3",inputs:[{name:"angle",type:"float"}]}),l=t((([t])=>{var a=t.cos().toVar(),n=t.sin().toVar();return e(a,n,0,n.negate(),a,0,0,0,1)})).setLayout({name:"matRotZ",type:"mat3",inputs:[{name:"angle",type:"float"}]}),p=t((([t])=>{var e=m(t.x),a=i(t.y),n=l(t.z);return a.mul(e).mul(n)})).setLayout({name:"matRotYXZ",type:"mat3",inputs:[{name:"angles",type:"vec3"}]}),h=t((([t])=>{var e=m(t.x),a=i(t.y),n=l(t.z);return e.mul(n).mul(a)})).setLayout({name:"matRotXZY",type:"mat3",inputs:[{name:"angles",type:"vec3"}]});function d({waistSpan:t}){return s.y.smoothstep(t.x,t.y)}function g({headSpan:t}){return s.y.add(s.z.div(3)).smoothstep(t.x,t.y)}function y({chestSpan:t}){return s.y.smoothstep(t.x,t.y)}function f({kneeLeftSpan:t}){return s.y.smoothstep(t.x,t.y)}function c({kneeRightSpan:t}){return s.y.smoothstep(t.x,t.y)}function x({ankleLeftSpan:t}){return s.y.smoothstep(t.x,t.y)}function v({ankleRightSpan:t}){return s.y.smoothstep(t.x,t.y)}function L({legLeftSpan:t}){return s.y.smoothstep(t.x,t.y)}function R({legRightSpan:t}){return s.y.smoothstep(t.x,t.y)}function P({hipLeftSpan:t}){var e=s.x,a=s.y;return a.smoothstep(t.x,t.y).mul(e.sub(a.sub(2)).smoothstep(-.1,.1).mul(e.smoothstep(-.01,.01)))}function T({hipRightSpan:t}){var e=s.x,a=s.y;return a.smoothstep(t.x,t.y).mul(e.add(a.sub(2)).smoothstep(.1,-.1).mul(e.smoothstep(.01,-.01)))}function w({elbowLeftSpan:t}){return s.x.smoothstep(t.x,t.y)}function q({elbowRightSpan:t}){return s.x.smoothstep(t.x,t.y)}function S({forearmLeftSpan:t}){return s.x.smoothstep(t.x,t.y)}function b({forearmRightSpan:t}){return s.x.smoothstep(t.x,t.y)}function k({wristLeftSpan:t}){return s.x.smoothstep(t.x,t.y)}function V({wristRightSpan:t}){return s.x.smoothstep(t.x,t.y)}function z({armLeftSpan:t}){var e=s.x,a=s.y;return e.smoothstep(t.x,t.y).mul(a.smoothstep(t.z,t.w))}function M({armRightSpan:t}){var e=s.x,a=s.y;return e.smoothstep(t.x,t.y).mul(a.smoothstep(t.z,t.w))}var I=t((([t,e,a,n])=>t.sub(e).mul(p(a.mul(n))).add(e))).setLayout({name:"jointRotate",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"center",type:"vec3"},{name:"angle",type:"vec3"},{name:"amount",type:"float"}]}),X=t((([t,e,s,o])=>a(t,t.sub(e).mul(h(s.mul(o))).mul(n(1).sub(o.mul(2*Math.PI).sub(Math.PI).cos().add(1).div(2).div(4).mul(s.z.cos().oneMinus()))).add(e),o.pow(.25)))).setLayout({name:"jointRotate2",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"center",type:"vec3"},{name:"angle",type:"vec3"},{name:"amount",type:"float"}]}),Y=t((t=>{var e=s.toVar(),a=z(t).toVar();o(a.greaterThan(0),(()=>{e.assign(I(e,t.wristLeftPos,t.wristLeftTurn,k(t))),e.assign(I(e,t.forearmLeftPos,t.forearmLeftTurn,S(t))),e.assign(I(e,t.elbowLeftPos,t.elbowLeftTurn,w(t))),e.assign(X(e,t.armLeftPos,t.armLeftTurn,a))}));var n=M(t).toVar();o(n.greaterThan(0),(()=>{e.assign(I(e,t.wristRightPos,t.wristRightTurn,V(t))),e.assign(I(e,t.forearmRightPos,t.forearmRightTurn,b(t))),e.assign(I(e,t.elbowRightPos,t.elbowRightTurn,q(t))),e.assign(X(e,t.armRightPos,t.armRightTurn,n))})),e.assign(I(e,t.headPos,t.headTurn,g(t))),e.assign(I(e,t.chestPos,t.chestTurn,y(t))),e.assign(I(e,t.waistPos,t.waistTurn,d(t)));var u=P(t).toVar();o(u.greaterThan(0),(()=>{e.assign(I(e,t.ankleLeftPos,t.ankleLeftTurn,x(t))),e.assign(I(e,t.legLeftPos,t.legLeftTurn,L(t))),e.assign(I(e,t.kneeLeftPos,t.kneeLeftTurn,f(t))),e.assign(I(e,t.hipLeftPos,t.hipLeftTurn,u))}));var r=T(t).toVar();return o(r.greaterThan(0),(()=>{e.assign(I(e,t.ankleRightPos,t.ankleRightTurn,v(t))),e.assign(I(e,t.legRightPos,t.legRightTurn,R(t))),e.assign(I(e,t.kneeRightPos,t.kneeRightTurn,c(t))),e.assign(I(e,t.hipRightPos,t.hipRightTurn,r))})),e})),Z=t((t=>{var e=t.select,a=n(0).add(g(t).mul(u(e.equal(1),1,0))).add(y(t).mul(u(e.equal(2),1,0))).add(d(t).mul(u(e.equal(3),1,0))).add(P(t).mul(u(e.equal(11),1,0))).add(L(t).mul(u(e.equal(12),1,0))).add(f(t).mul(u(e.equal(13),1,0))).add(x(t).mul(u(e.equal(14),1,0))).add(T(t).mul(u(e.equal(11),1,0))).add(R(t).mul(u(e.equal(12),1,0))).add(c(t).mul(u(e.equal(13),1,0))).add(v(t).mul(u(e.equal(14),1,0))).add(z(t).mul(u(e.equal(21),1,0))).add(w(t).mul(u(e.equal(22),1,0))).add(S(t).mul(u(e.equal(23),1,0))).add(k(t).mul(u(e.equal(24),1,0))).add(M(t).mul(u(e.equal(21),1,0))).add(q(t).mul(u(e.equal(22),1,0))).add(b(t).mul(u(e.equal(23),1,0))).add(V(t).mul(u(e.equal(24),1,0))).toVar();return a.assign(u(t.isolated.equal(0),a.smoothstep(0,1).mul(2*Math.PI).sub(Math.PI).cos().add(1).div(2).pow(1/4).mul(1.1).negate(),a.clamp(0,1).pow(.75).negate())),r(0,a.div(2),a.div(1))})),j=t((()=>{var t=s,e=n(0).add(t.x.mul(72).cos().smoothstep(.9,1)).add(t.y.mul(74).cos().smoothstep(.9,1)).add(t.z.mul(74).add(t.y.mul(4.5).add(.5).cos().mul(1).add(2.5)).abs().smoothstep(.6,0)).smoothstep(.6,1).oneMinus().pow(.1);return r(e)}));export{j as tslColorNode,Z as tslEmissiveNode,Y as tslPositionNode};
